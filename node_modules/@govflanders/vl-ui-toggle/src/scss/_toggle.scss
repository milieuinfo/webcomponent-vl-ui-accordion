.vl-toggle {
  display: flex;
  justify-content: center;
  position: relative;
  overflow: hidden;

  .vl-vi {
    padding-right: 5px;

    &::before,
    &::after {
      color: $vl-text-color;
    }

    &::before {
      transition: transform 0.2s;
    }
  }

  .vl-vi-plus,
  .vl-vi-minus {
    .js-vl-accordion--open > & {
      &::before {
        transform: rotate(0);
      }
    }
  }

  .vl-vi-arrow-right-fat,
  .vl-vi-arrow-right-thin {
    .js-vl-accordion--open &,
    .js-vl-toggle--open &,
    [aria-expanded="true"] > & {
      &::before {
        transform: rotate(90deg);
      }
    }
  }

  &.js-vl-drawer-active-item,
  &.js-vl-dynamic-drawer-active-item {
    .vl-vi-arrow-right-fat,
    .vl-vi-arrow-right-thin {
      &::before {
        transform: rotate(90deg);
      }
    }
  }
}

.vl-toggle__panel {
  background-color: $vl-alt-region-bg;
}

.vl-toggle__content {
  .js & {
    visibility: hidden;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s cubic-bezier(0, 1.05, 0, 1), overflow 0s 0s;
  }

  .js-vl-toggle--open > & {
    .js & {
      visibility: visible;
      max-height: 1000vh;
      overflow: visible;
      transition: max-height 0.3s, overflow 0s 0.3s;
    }
  }
}

.js-vl-toggle {
  position: relative;

  &--flex-reverse {
    display: flex;
    flex-direction: column-reverse;
  }

  .js-vl-toggle--open & {
    [class^="vl-vi-arrow"] {
      @include vi-u-90deg;
    }
  }
}

// Native support
summary {
  display: block;

  // reset chrome summary-arrow
  // sass-lint:disable no-vendor-prefixes
  &::-webkit-details-marker {
    display: none;
  }
  // sass-lint:enable no-vendor-prefixes
}

@import "more-button";
